{% extends "base.html" %}

{% block content %}
    <div class="container" style="margin-top: 30px;">
        <h2>{{ ticket['header'] }}</h2>
        <hr>
        <div class="row">
            <div class="col-sm-4">
                <div class="form-group">
                    <h5 class="card-title">Kategorie</h5>
                    <p>{{ ticket['category'] }}</p>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <h5 class="card-title">Priorit√§t</h5>
                    <p style="color: {{ ticket['prio_color'] }}">{{ ticket['prio'] }}</p>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <h5 class="card-title">Status</h5>
                    <p style="color: {{ ticket['status_color'] }}">{{ ticket['status'] }}</p>
                </div>
            </div>
        </div>

        <textarea type=" text" class="form-control span6" rows="6" disabled> {{ ticket['text'] }} </textarea>

        {% if comments %}
            <br>
            <br>
            <div class="form-group comment">
                <h5 class="card-title">Kommentare</h5>
                {% for comment in comments %}
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">{{ comment['header'] }}</h5>
                            <p class="card-text">{{ comment['text'] }}</p>
                            <div class="creator text-right">{{ comment['first_name'] }} {{ comment['last_name'] }}</div>
                            <p class="date text-right">{{ comment['created_at'] }}</p>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </div>
{% endblock %}

{% block subcontent %}
    <div class="card">
        <div class="card-header">
            Ticket kommentieren
        </div>
        <div class="card-body">
            <form action="" method="post" novalidate>
                {{ form.hidden_tag() }}
                <h5 class="card-title"> {{ form.header.label }}</h5>
                <p>{{ form.header(size=32, class_="form-control") }}</p>
                <h5 class="card-title"> {{ form.text.label }}</h5>
                <p>{{ form.text(size=32, class_="form-control") }}</p>
                <p>{{ form.submit(class_="btn btn-primary") }}</p>
            </form>
        </div>
    </div>
{% endblock %}
